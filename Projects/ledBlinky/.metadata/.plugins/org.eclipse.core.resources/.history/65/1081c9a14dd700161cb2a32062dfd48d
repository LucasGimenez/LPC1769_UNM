/*
 * Leds.c
 *
 *  Created on: 01/06/2014
 *      Author: Juan Manuel Cruz
 */


#ifdef __USE_CMSIS
#include "LPC17xx.h"
#endif

#include "Leds.h"


// LED2 of LPC1769 LPCXpresso Board
#define LED2pORT	0		//	LED2 => Port 0, bit 22
#define LED2pIN		22		//	LED2 => Port 0, bit 22


void Led2Init(void)		// Set GPIO - P0_22 - to be output
{
	LPC_GPIO0->FIODIR |= (1 << LED2pIN);
}


void Led2On(void)			// Set GPIO - P0_22 - to be high
{
	LPC_GPIO0->FIOSET = (1 << LED2pIN);
}


void Led2Off(void)			// Clear GPIO - P0_22 - to be low
{
	LPC_GPIO0->FIOCLR = (1 << LED2pIN);
}


void Led2Invert(void)		// Clear/Set GPIO - P0_22 - to be toggle
{
	uint32_t ledState;

	ledState = LPC_GPIO0->FIOPIN;	// Read current state of GPIO P0_0..31, which includes LED2

	// Turn off LED2 if it is on
	// (ANDing to ensure we only affect the LED2 output)
	LPC_GPIO0->FIOCLR = ledState & (1 << LED2pIN);

	// Turn on  LED2 if it is off
	// (ANDing to ensure we only affect the LED2 output)
	LPC_GPIO0->FIOSET = ((~ledState) & (1 << LED2pIN));
}
